{"version":3,"sources":["images/Vector.svg","components/Header.js","contexts/currentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","item","currentUser","useContext","isOwnCard","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","onCardClick","onCardDelete","type","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddPlace","сards","avatar","about","map","Footer","PopupWithForm","title","modifier","isOpened","buttonTextContent","children","onClose","onSubmit","noValidate","AddPlacePopup","addTitleRef","useRef","addPlaceRef","e","preventDefault","current","value","ref","required","id","minLength","maxLength","placeholder","ImagePopup","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","handleSubmit","onHandleSubmit","api","baseUrl","group","token","this","res","ok","json","Promise","reject","Error","status","statusText","fetch","headers","authorization","then","_getResponseData","data","method","body","JSON","stringify","cardID","likeState","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","setCurrentUser","cards","setCards","handleCardClick","closeAllPopups","all","getUserInfo","getCards","handleCurrentUser","catch","error","console","log","Provider","setLike","newCard","newCards","c","deleteCard","deletedCard","rerenderInitialCards","filter","setAvatar","setUserInfo","newUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sNAAe,MAA0B,mCCU1BA,MARf,WACE,OACE,wBAAQC,UAAU,sBAAlB,SACE,qBAAKC,IAAKC,EAAMF,UAAU,eAAeG,IAAI,mHCHtCC,EAAqBC,IAAMC,gBCqDzBC,MApDf,SAAcC,GACZ,IAAMC,EAAcJ,IAAMK,WAAWN,GAC/BO,EAAYH,EAAKI,KAAKC,MAAMC,MAAQL,EAAYK,IAChDC,EAAyB,0BAC7BJ,EAAY,GAAK,4BAEbK,EAAUR,EAAKI,KAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAC5DM,EAAuB,wBAC3BJ,EAAU,6BAA+B,IAe3C,OACE,sBAAKhB,UAAU,UAAf,UACE,qBACEC,IAAKO,EAAKI,KAAKS,KACflB,IAAKK,EAAKI,KAAKU,KACftB,UAAU,iBACVuB,QAlBN,WACEf,EAAKgB,YAAYhB,EAAKI,SAmBpB,wBACEZ,UAAWe,EACXQ,QAdN,WACEf,EAAKiB,aAAajB,EAAKI,SAerB,sBAAKZ,UAAU,qBAAf,UACE,oBAAIA,UAAU,mBAAd,SAAkCQ,EAAKI,KAAKU,OAC5C,sBAAKtB,UAAU,0BAAf,UACE,wBACEA,UAAWoB,EACXM,KAAK,SACLH,QA1BV,WACEf,EAAKmB,WAAWnB,EAAKI,SA2Bf,sBAAMZ,UAAU,wBAAhB,SACGQ,EAAKI,KAAKK,MAAMW,mBCOdC,MAlDf,YAQI,IAPFC,EAOC,EAPDA,aACAC,EAMC,EANDA,cACAC,EAKC,EALDA,WACAR,EAIC,EAJDA,YACAS,EAGC,EAHDA,WACAN,EAEC,EAFDA,WACAF,EACC,EADDA,aAEMhB,EAAcJ,IAAMK,WAAWN,GAErC,OACE,uBAAMJ,UAAU,UAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,qBACEC,IAAKQ,EAAYyB,OACjBlC,UAAU,iBACVsB,KAAK,SACLnB,IAAI,qDAEN,wBAAQH,UAAU,gBAAgBuB,QAASO,IAE3C,sBAAK9B,UAAU,gBAAf,UACE,oBAAIA,UAAU,qBAAd,SAAoCS,EAAYa,OAChD,wBACEtB,UAAU,qBACVuB,QAASQ,IAEX,mBAAG/B,UAAU,oBAAb,SAAkCS,EAAY0B,WAEhD,wBAAQnC,UAAU,sBAAsBuB,QAASS,OAGnD,yBAAShC,UAAU,WAAnB,SACGiC,EAAMG,KAAI,SAAC5B,GACV,OACE,cAAC,EAAD,CAEEI,KAAMJ,EACNgB,YAAaA,EACbG,WAAYA,EACZF,aAAcA,GAJTjB,EAAKM,cCjCTuB,MARf,WACE,OACE,wBAAQrC,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,uCCoCSsC,MAvCf,YASI,IARFC,EAQC,EARDA,MACAjB,EAOC,EAPDA,KACAkB,EAMC,EANDA,SACAC,EAKC,EALDA,SACAC,EAIC,EAJDA,kBACAC,EAGC,EAHDA,SACAC,EAEC,EAFDA,QACAC,EACC,EADDA,SAEA,OACE,qBACE7C,UAAS,2BAAsBsB,EAAtB,YACPmB,EAAW,kBAAoB,GADxB,KADX,SAKE,sBAAKzC,UAAS,4CAAuCwC,GAArD,UACE,wBACExC,UAAU,eACV0B,KAAK,SACLH,QAASqB,IAEX,oBAAI5C,UAAU,eAAd,SAA8BuC,IAC9B,uBACEvC,UAAU,cACVsB,KAAMA,EACNuB,SAAUA,EACVC,YAAU,EAJZ,UAMGH,EACD,wBAAQ3C,UAAU,gBAAgB0B,KAAK,SAAvC,SACGgB,aC4BEK,MAxDf,YAA2D,IAAlCN,EAAiC,EAAjCA,SAAUG,EAAuB,EAAvBA,QAASZ,EAAc,EAAdA,WACpCgB,EAAc3C,IAAM4C,SACpBC,EAAc7C,IAAM4C,SAO1B,OACE,eAAC,EAAD,CACEV,MAAM,gEACNjB,KAAK,cACLkB,SAAS,eACTC,SAAUA,EACVC,kBAAkB,mDAClBG,SAZJ,SAA2BM,GACzBA,EAAEC,iBACFpB,EAAWgB,EAAYK,QAAQC,MAAOJ,EAAYG,QAAQC,QAWxDV,QAASA,EAPX,UASG,IACD,0BAAS5C,UAAU,sBAAnB,UACE,uBACE0B,KAAK,OACL6B,IAAKP,EACLQ,UAAQ,EACRxD,UAAU,kCACVyD,GAAG,qBACHC,UAAU,IACVC,UAAU,KACVrC,KAAK,OACLsC,YAAY,qDAEd,sBACE5D,UAAU,qBACVyD,GAAG,gCAGP,0BAASzD,UAAU,sBAAnB,UACE,uBACE0B,KAAK,MACL6B,IAAKL,EACLM,UAAQ,EACRxD,UAAU,iCACVyD,GAAG,oBACHnC,KAAK,OACLsC,YAAY,uGAEd,sBACE5D,UAAU,qBACVyD,GAAG,mCC3BEI,MAzBf,YAAkD,IAA5BjD,EAA2B,EAA3BA,KAAM6B,EAAqB,EAArBA,SAAUG,EAAW,EAAXA,QACpC,OACE,qBAAK5C,UAAS,iCAA4ByC,GAA1C,SACE,sBAAKzC,UAAU,kDAAf,UACE,qBACEC,IAAKW,EAAOA,EAAKS,KAAO,GACxBlB,IAAKS,EAAKU,KACVtB,UAAU,iBAEZ,oBACEA,UAAU,4CACVyD,GAAG,YAFL,SAIG7C,EAAKU,OAER,wBACEtB,UAAU,eACV0B,KAAK,SACLH,QAASqB,UC0DJkB,MAxEf,YAAgE,IAApCrB,EAAmC,EAAnCA,SAAUG,EAAyB,EAAzBA,QAASmB,EAAgB,EAAhBA,aAAgB,EACrC1D,IAAM2D,SAAS,IADsB,mBACtD1C,EADsD,KAChD2C,EADgD,OAEvB5D,IAAM2D,SAAS,IAFQ,mBAEtDE,EAFsD,KAEzCC,EAFyC,KAGvD1D,EAAcJ,IAAMK,WAAWN,GAyBrC,OAPAC,IAAM+D,WAAU,WACV3D,IACFwD,EAAQxD,EAAYa,MAAQ,IAC5B6C,EAAe1D,EAAY0B,OAAS,OAErC,CAAC1B,IAGF,eAAC,EAAD,CACE8B,MAAM,4HACNjB,KAAK,cACLkB,SAAS,eACTC,SAAUA,EACVC,kBAAkB,yDAClBG,SAtBJ,SAAsBM,GACpBA,EAAEC,iBACFW,EAAa,CACXzC,OACAa,MAAO+B,KAmBPtB,QAASA,EAPX,UASE,0BAAS5C,UAAU,sBAAnB,UACE,uBACE0B,KAAK,OACL8B,UAAQ,EACRxD,UAAU,iCACVyD,GAAG,kBACHC,UAAU,IACVC,UAAU,KACVrC,KAAK,OACLsC,YAAY,qBACZN,MAAOhC,EACP+C,SA5CR,SAA0BlB,GACxBc,EAAQd,EAAEmB,OAAOhB,UA6Cb,sBAAMtD,UAAU,qBAAqByD,GAAG,6BAE1C,0BAASzD,UAAU,sBAAnB,UACE,uBACE0B,KAAK,OACL8B,UAAQ,EACRxD,UAAU,gCACVyD,GAAG,iBACHC,UAAU,IACVC,UAAU,MACVrC,KAAK,QACLsC,YAAY,yDACZN,MAAOY,EACPG,SAvDR,SAAiClB,GAC/BgB,EAAehB,EAAEmB,OAAOhB,UAwDpB,sBAAMtD,UAAU,qBAAqByD,GAAG,gCChCjCc,MAnCf,YAAiE,IAAtC9B,EAAqC,EAArCA,SAAUG,EAA2B,EAA3BA,QAAS4B,EAAkB,EAAlBA,eACtCC,EAAYpE,IAAM4C,SAExB,SAASyB,EAAavB,GACpBA,EAAEC,iBACFoB,EAAeC,EAAUpB,QAAQC,OAGnC,OACE,cAAC,EAAD,CACEf,MAAM,wFACNjB,KAAK,aACLkB,SAAS,uCACTC,SAAUA,EACVC,kBAAkB,yDAClBG,SAAU6B,EACV9B,QAASA,EACT+B,eAAgBD,EARlB,SAUE,0BAAS1E,UAAU,sBAAnB,UACE,uBACE0B,KAAK,MACL6B,IAAKkB,EACLjB,UAAQ,EACRxD,UAAU,mCACVyD,GAAG,iBACHnC,KAAK,SACLsC,YAAY,4DAEd,sBAAM5D,UAAU,qBAAqByD,GAAG,+B,cCuFjCmB,EANH,I,WAhHV,WAAYC,EAASC,EAAOC,GAAQ,oBAClCC,KAAKH,QAAUA,EACfG,KAAKF,MAAQA,EACbE,KAAKD,MAAQA,E,6DAGEE,GACf,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OACb,IAAIC,MAAJ,+CAAoBL,EAAIM,OAAxB,cAAoCN,EAAIO,gB,oCAK/B,IAAD,OACZ,OAAOC,MAAM,GAAD,OAAIT,KAAKH,QAAT,cAAsBG,KAAKF,MAA3B,aAA6C,CACvDY,QAAS,CACPC,cAAeX,KAAKD,MACpB,eAAgB,sBAEjBa,MAAK,SAACX,GACP,OAAO,EAAKY,iBAAiBZ,Q,iCAIrB,IAAD,OACT,OAAOQ,MAAM,GAAD,OAAIT,KAAKH,QAAT,cAAsBG,KAAKF,MAA3B,UAA0C,CACpDY,QAAS,CACPC,cAAeX,KAAKD,MACpB,eAAgB,sBAEjBa,MAAK,SAACX,GACP,OAAO,EAAKY,iBAAiBZ,Q,kCAIrBa,GAAO,IAAD,OAChB,OAAOL,MAAM,GAAD,OAAIT,KAAKH,QAAT,cAAsBG,KAAKF,MAA3B,aAA6C,CACvDiB,OAAQ,QACRL,QAAS,CACPC,cAAeX,KAAKD,MACpB,eAAgB,oBAElBiB,KAAMC,KAAKC,UAAU,CACnB5E,KAAMwE,EAAKxE,KACXa,MAAO2D,EAAK3D,UAEbyD,MAAK,SAACX,GACP,OAAO,EAAKY,iBAAiBZ,Q,8BAIzB3D,EAAMD,GAAO,IAAD,OAClB,OAAOoE,MAAM,GAAD,OAAIT,KAAKH,QAAT,cAAsBG,KAAKF,MAA3B,UAA0C,CACpDiB,OAAQ,OACRL,QAAS,CACPC,cAAeX,KAAKD,MACpB,eAAgB,oBAElBiB,KAAMC,KAAKC,UAAU,CACnB5E,OACAD,WAEDuE,MAAK,SAACX,GACP,OAAO,EAAKY,iBAAiBZ,Q,8BAIzBkB,EAAQC,GAAY,IAAD,OACnBL,EAASK,EAAY,SAAW,MAEtC,OAAOX,MAAM,GAAD,OAAIT,KAAKH,QAAT,cAAsBG,KAAKF,MAA3B,wBAAgDqB,GAAU,CACpEJ,SACAL,QAAS,CACPC,cAAeX,KAAKD,MACpB,eAAgB,sBAEjBa,MAAK,SAACX,GACP,OAAO,EAAKY,iBAAiBZ,Q,gCAIvBa,GAAO,IAAD,OACd,OAAOL,MAAM,GAAD,OAAIT,KAAKH,QAAT,cAAsBG,KAAKF,MAA3B,oBAAoD,CAC9DiB,OAAQ,QACRL,QAAS,CACPC,cAAeX,KAAKD,MACpB,eAAgB,oBAElBiB,KAAMC,KAAKC,UAAU,CACnBhE,OAAQ4D,MAETF,MAAK,SAACX,GACP,OAAO,EAAKY,iBAAiBZ,Q,iCAItBkB,GAAS,IAAD,OACjB,OAAOV,MAAM,GAAD,OAAIT,KAAKH,QAAT,cAAsBG,KAAKF,MAA3B,kBAA0CqB,GAAU,CAC9DJ,OAAQ,SACRL,QAAS,CACPC,cAAeX,KAAKD,MACpB,eAAgB,sBAEjBa,MAAK,SAACX,GACP,OAAO,EAAKY,iBAAiBZ,U,KAKvB,CACV,kCACA,YACA,wCCqCaoB,MA9If,WAAgB,IAAD,EAC6ChG,IAAM2D,UAC9D,GAFW,mBACNsC,EADM,KACiBC,EADjB,OAI+ClG,IAAM2D,UAChE,GALW,mBAINwC,EAJM,KAIkBC,EAJlB,OAOyCpG,IAAM2D,UAAS,GAPxD,mBAON0C,EAPM,KAOeC,EAPf,OAQ2BtG,IAAM2D,SAAS,MAR1C,mBAQN4C,EARM,KAQQC,EARR,OASyBxG,IAAM2D,SAAS,IATxC,mBASNvD,EATM,KASOqG,EATP,OAUazG,IAAM2D,SAAS,IAV5B,mBAUN+C,EAVM,KAUCC,EAVD,KAwBPC,EAAkB,SAACrG,GACvBiG,EAAgBjG,IAGZsG,EAAiB,WACrBX,GAAyB,GACzBE,GAA0B,GAC1BE,GAAuB,GACvBE,EAAgB,OAoElB,OATAzC,qBAAU,WACRgB,QAAQ+B,IAAI,CAACvC,EAAIwC,cAAexC,EAAIyC,aACjCzB,MAAK,YAAkB,IAAD,mBAAfX,EAAe,KAAVa,EAAU,MA1DD,SAACA,GACzBgB,EAAehB,GA0DXwB,CAAkBrC,GAClB+B,EAASlB,MAEVyB,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,QAC/B,IAGD,qBAAKxH,UAAU,MAAf,SACE,cAACI,EAAmBuH,SAApB,CAA6BrE,MAAO7C,EAApC,SACE,sBAAKT,UAAU,OAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACE8B,aA9FW,WACnByE,GAAyB,IA8FjBxE,cA3FY,WACpB0E,GAA0B,IA2FlBzE,WAxFS,WACjB2E,GAAuB,IAwFfnF,YAAayF,EACbhF,aAAO8E,EACPpF,WAxEa,SAACf,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQL,EAAYK,OAE7D8D,EACGgD,QAAQhH,EAAKE,IAAKE,GAClB4E,MAAK,SAACiC,GACL,IAAMC,EAAWf,EAAM3E,KAAI,SAAC2F,GAAD,OAAQA,EAAEjH,MAAQF,EAAKE,IAAM+G,EAAUE,KAClEf,EAASc,MAEVP,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,OAgExB/F,aA7De,SAACb,GACxBgE,EACGoD,WAAWpH,EAAKE,KAChB8E,MAAK,SAACqC,GACL,IAAMC,EAAuBnB,EAAMoB,QAAO,SAACJ,GAAD,OAAOA,EAAEjH,MAAQF,EAAKE,OAChEkG,EAASkB,MAEVX,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,SAwD1B,cAAC,EAAD,IACA,cAAC,EAAD,CACE/E,SAAU6D,EACV1D,QAASsE,EACT1C,eA/CiB,SAACsB,GAC1BlB,EACGwD,UAAUtC,GACVF,MAAK,SAACX,GACL6B,EAAe7B,GACfsB,GAAyB,MAE1BgB,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,SA0C1B,cAAC,EAAD,CACE/E,SAAU+D,EACV5D,QAASsE,EACTnD,aA9De,SAAC+B,GACxBlB,EACGyD,YAAYvC,GACZF,MAAK,SAAC0C,GACLxB,EAAewB,GACf7B,GAA0B,MAE3Bc,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,SAyD1B,cAAC,EAAD,CACE/E,SAAUiE,EACV9D,QAASsE,EACTlF,WA/CmB,SAAC8D,EAAMzE,GAClCuD,EACG2D,QAAQzC,EAAMzE,GACduE,MAAK,SAACX,GACL+B,EAAS,CAAC/B,GAAF,mBAAU8B,KAClBJ,GAAuB,MAExBY,OAAM,SAACC,GAAD,OAAWC,QAAQC,IAAIF,SA0C1B,cAAC,EAAD,CACE5G,KAAMgG,GAAgB,GACtBnE,SAAUmE,GAAgB,kBAC1BpF,YAAayF,EACbrE,QAASsE,YCrINsB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9C,MAAK,YAAkD,IAA/C+C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAG1BZ,M","file":"static/js/main.dfb7a273.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.c2821b38.svg\";","import logo from \"../images/Vector.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header header__line\">\r\n      <img src={logo} className=\"header__logo\" alt=\"Логотип сайта 'Место'.\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/currentUserContext\";\r\n\r\nfunction Card(item) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwnCard = item.card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `element__delete ${\r\n    isOwnCard ? \"\" : \"element__delete_isHidden\"\r\n  }`;\r\n  const isLiked = item.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = `element__like ${\r\n    isLiked ? \"element__like_state_active\" : \"\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    item.onCardClick(item.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    item.onCardLike(item.card);\r\n  }\r\n\r\n  function handleDeleteCard() {\r\n    item.onCardDelete(item.card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <img\r\n        src={item.card.link}\r\n        alt={item.card.name}\r\n        className=\"element__photo\"\r\n        onClick={handleClick}\r\n      />\r\n      <button\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteCard}\r\n      ></button>\r\n      <div className=\"element__container\">\r\n        <h2 className=\"element__heading\">{item.card.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type=\"button\"\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <span className=\"element__like-counter\">\r\n            {item.card.likes.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/currentUserContext\";\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  сards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <img\r\n          src={currentUser.avatar}\r\n          className=\"profile__image\"\r\n          name=\"avatar\"\r\n          alt=\"Аватарка\"\r\n        />\r\n        <button className=\"profile__edit\" onClick={onEditAvatar}></button>\r\n\r\n        <div className=\"profile__info\">\r\n          <h2 className=\"profile__info-name\">{currentUser.name}</h2>\r\n          <button\r\n            className=\"profile__info-edit\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className=\"profile__info-job\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {сards.map((item) => {\r\n          return (\r\n            <Card\r\n              key={item._id}\r\n              card={item}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm({\r\n  title,\r\n  name,\r\n  modifier,\r\n  isOpened,\r\n  buttonTextContent,\r\n  children,\r\n  onClose,\r\n  onSubmit,\r\n}) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${name} ${\r\n        isOpened ? \"popup_is-opened\" : \"\"\r\n      } `}\r\n    >\r\n      <div className={`popup__container popup__container_${modifier}`}>\r\n        <button\r\n          className=\"popup__close\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <h3 className=\"popup__title\">{title}</h3>\r\n        <form\r\n          className=\"popup__form\"\r\n          name={name}\r\n          onSubmit={onSubmit}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button className=\"popup__submit\" type=\"submit\">\r\n            {buttonTextContent}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpened, onClose, onAddPlace }) {\r\n  const addTitleRef = React.useRef();\r\n  const addPlaceRef = React.useRef();\r\n\r\n  function handleTitleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace(addTitleRef.current.value, addPlaceRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"addNewPlace\"\r\n      modifier=\"content_text\"\r\n      isOpened={isOpened}\r\n      buttonTextContent=\"Добавить\"\r\n      onSubmit={handleTitleSubmit}\r\n      onClose={onClose}\r\n    >\r\n      {\" \"}\r\n      <section className=\"popup__form-section\">\r\n        <input\r\n          type=\"text\"\r\n          ref={addTitleRef}\r\n          required\r\n          className=\"popup__input popup__input_title\"\r\n          id=\"create-title-popup\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          name=\"name\"\r\n          placeholder=\"Название\"\r\n        />\r\n        <span\r\n          className=\"popup__input_error\"\r\n          id=\"create-title-popup-error\"\r\n        ></span>\r\n      </section>\r\n      <section className=\"popup__form-section\">\r\n        <input\r\n          type=\"url\"\r\n          ref={addPlaceRef}\r\n          required\r\n          className=\"popup__input popup__input_link\"\r\n          id=\"create-link-popup\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n        />\r\n        <span\r\n          className=\"popup__input_error\"\r\n          id=\"create-link-popup-error\"\r\n        ></span>\r\n      </section>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","function ImagePopup({ card, isOpened, onClose }) {\r\n  return (\r\n    <div className={`popup popup_type_image ${isOpened}`}>\r\n      <div className=\"popup__container popup__container_content_image\">\r\n        <img\r\n          src={card ? card.link : \"\"}\r\n          alt={card.name}\r\n          className=\"popup__image\"\r\n        />\r\n        <h3\r\n          className=\"popup__title popup__title_content-heading\"\r\n          id=\"js__title\"\r\n        >\r\n          {card.name}\r\n        </h3>\r\n        <button\r\n          className=\"popup__close\"\r\n          type=\"button\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/currentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpened, onClose, onUpdateUser }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (currentUser) {\r\n      setName(currentUser.name || \"\");\r\n      setDescription(currentUser.about || \"\");\r\n    }\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"editProfile\"\r\n      modifier=\"content_text\"\r\n      isOpened={isOpened}\r\n      buttonTextContent=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n    >\r\n      <section className=\"popup__form-section\">\r\n        <input\r\n          type=\"text\"\r\n          required\r\n          className=\"popup__input popup__input_name\"\r\n          id=\"edit-name-popup\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          value={name}\r\n          onChange={handleChangeName}\r\n        />\r\n        <span className=\"popup__input_error\" id=\"edit-name-popup-error\"></span>\r\n      </section>\r\n      <section className=\"popup__form-section\">\r\n        <input\r\n          type=\"text\"\r\n          required\r\n          className=\"popup__input popup__input_job\"\r\n          id=\"edit-job-popup\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          name=\"about\"\r\n          placeholder=\"Профессия\"\r\n          value={description}\r\n          onChange={handleChangeDescription}\r\n        />\r\n        <span className=\"popup__input_error\" id=\"edit-job-popup-error\"></span>\r\n      </section>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpened, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"editAvatar\"\r\n      modifier=\"content_text popup__container_update\"\r\n      isOpened={isOpened}\r\n      buttonTextContent=\"Сохранить\"\r\n      onSubmit={handleSubmit}\r\n      onClose={onClose}\r\n      onHandleSubmit={handleSubmit}\r\n    >\r\n      <section className=\"popup__form-section\">\r\n        <input\r\n          type=\"url\"\r\n          ref={avatarRef}\r\n          required\r\n          className=\"popup__input popup__input-update\"\r\n          id=\"edit-ava-popup\"\r\n          name=\"update\"\r\n          placeholder=\"Обновимся?\"\r\n        />\r\n        <span className=\"popup__input_error\" id=\"edit-ava-popup-error\"></span>\r\n      </section>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","class Api {\r\n  constructor(baseUrl, group, token) {\r\n    this.baseUrl = baseUrl;\r\n    this.group = group;\r\n    this.token = token;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(\r\n        new Error(`Ошибка ${res.status} - ${res.statusText}`)\r\n      );\r\n    }\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this.baseUrl}v1/${this.group}/users/me`, {\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      return this._getResponseData(res);\r\n    });\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this.baseUrl}v1/${this.group}/cards`, {\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      return this._getResponseData(res);\r\n    });\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this.baseUrl}v1/${this.group}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then((res) => {\r\n      return this._getResponseData(res);\r\n    });\r\n  }\r\n\r\n  addCard(name, link) {\r\n    return fetch(`${this.baseUrl}v1/${this.group}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then((res) => {\r\n      return this._getResponseData(res);\r\n    });\r\n  }\r\n\r\n  setLike(cardID, likeState) {\r\n    const method = likeState ? \"DELETE\" : \"PUT\";\r\n\r\n    return fetch(`${this.baseUrl}v1/${this.group}/cards/likes/${cardID}`, {\r\n      method,\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      return this._getResponseData(res);\r\n    });\r\n  }\r\n\r\n  setAvatar(data) {\r\n    return fetch(`${this.baseUrl}v1/${this.group}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data,\r\n      }),\r\n    }).then((res) => {\r\n      return this._getResponseData(res);\r\n    });\r\n  }\r\n\r\n  deleteCard(cardID) {\r\n    return fetch(`${this.baseUrl}v1/${this.group}/cards/${cardID}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      return this._getResponseData(res);\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api(\r\n  \"https://mesto.nomoreparties.co/\",\r\n  \"cohort-17\",\r\n  \"a3d68f30-ff26-46e5-95a8-5a60641ab807\"\r\n);\r\n\r\nexport default api;\r\n","import React, { useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/currentUserContext\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const onEditAvatar = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const onEditProfile = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const onAddPlace = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  };\r\n\r\n  const handleCurrentUser = (data) => {\r\n    setCurrentUser(data);\r\n  };\r\n\r\n  const handleLikeCard = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .setLike(card._id, isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleCardDelete = (card) => {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then((deletedCard) => {\r\n        const rerenderInitialCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(rerenderInitialCards);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleUpdateUser = (data) => {\r\n    api\r\n      .setUserInfo(data)\r\n      .then((newUserInfo) => {\r\n        setCurrentUser(newUserInfo);\r\n        setIsEditProfilePopupOpen(false);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleUpdateAvatar = (data) => {\r\n    api\r\n      .setAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        setIsEditAvatarPopupOpen(false);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (data, link) => {\r\n    api\r\n      .addCard(data, link)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        setIsAddPlacePopupOpen(false);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then(([res, data]) => {\r\n        handleCurrentUser(res);\r\n        setCards(data);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"page\">\r\n          <Header />\r\n          <Main\r\n            onEditAvatar={onEditAvatar}\r\n            onEditProfile={onEditProfile}\r\n            onAddPlace={onAddPlace}\r\n            onCardClick={handleCardClick}\r\n            сards={cards}\r\n            onCardLike={handleLikeCard}\r\n            onCardDelete={handleCardDelete}\r\n          />\r\n          <Footer />\r\n          <EditAvatarPopup\r\n            isOpened={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <EditProfilePopup\r\n            isOpened={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <AddPlacePopup\r\n            isOpened={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n          <ImagePopup\r\n            card={selectedCard || {}}\r\n            isOpened={selectedCard && \"popup_is-opened\"}\r\n            onCardClick={handleCardClick}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}